# Amazon S3(Simple Storage Service)

  S3는 스마트한 객체 스토리지 서비스다. 여기서 객체 스토리지는 데이터를 객체 단위로 관리하는 형식을 말한다. 용량 제한이 없으므로 나중에 대비해서 넉넉하게 확보할 필요 없이 최소한의 용량만으로 시작해도 된다. 이미지나 동영상파일부터 시작해서 DB의 백업 및 스냅샷을 보관하거나 백엔드에서 빌드한 dist 폴더를 도커 이미지로 S3에 업로드해서 관리하기도 한다.



## S3의 장점

* 웹 서버 기능 제공
* 쿼리 기능으로 집계 가능
* 확장 및 축소가 간단
* S3 Select, 다른 서비스와 연동
* 99.999%의 데이터 내구성을 가지고 있어 장애나 오류, 위협에 강하다. S3 객체는 최소 4개의 AZ에 자동으로 복제되어 보존되기 때문에 어느 한쪽에 장애가 발생하더라도 계속 사용할 수 있다.
* 암호화 기능과 접근 관리 도구가 있어 공격으로부터 지키기 쉽다.
* 각종 규정을 준수하며 감사 기능을 갖추고 있다.
* 스토리지 클래스 분석, 수명 주기 정책 등을 시작으로 각종 관리 기능이 있다. 관리 기능을 사용하면 실제 사용 환경에 맞는 스토리지 클래스를 선택하는 것이 가능하다.
* S3 Select라는 데이터에 쿼리를 실행하는 기능과 서비스가 있다. 그 외에 Amazon Athena, Amazon Redshift Sepectru 등의 분석 서비스와 호환되고, AWS Lambda와 연동할 수 있다.



## S3 서비스 구성

### 일반 구성

<img src="https://user-images.githubusercontent.com/92770273/138237005-0e5ed5dc-91f2-4fcc-8cad-8eb7a6f038c9.png" alt="image" style="zoom:67%;" />

* 이름 설정
* 리전 설정


### S3 버킷에 대한 액세스 제한

<img src="https://user-images.githubusercontent.com/92770273/138240690-80aec841-d0e3-4b8d-b593-1b25fa3ca099.png" alt="image" style="zoom:67%;" />

* 버킷을 생성하고 나면 "권한" => "ACL"이 있다.
* 버킷 역시 저장 장치이기 때문에 CRUD에 대한 액세스 제한이 필요하다. 액세스 정책을 잘못하면 내가 사용하고 싶은 기능이 막히거나 내가 원치 않은 사용자로부터 데이터가 조작될 수 있다.

### 버킷 버전 관리

<img src="https://user-images.githubusercontent.com/92770273/138241077-c03f9315-33e5-4c17-b309-088c0e83df69.png" alt="image" style="zoom:67%;" />

* 버전 관리로 객체를 여러 버전으로 저장할 수 있다. 버전 관리 기능을 활성화하면 실수로 변경한 파일을 복원할 수 있다.

* 이전 버전으로 되돌리려면 저장된 과거 버전 중 되돌리고 싶은 버전을 같은 버킷으로 복사한다.
  * 바로 이전 버전으로 되돌릴 경우는 최신 버전을 삭제해도 복원이 가능하다.
* 버킷을 생성할 때와 생성하고 난 후 "권한"에 "버킷 버전 관리"가 있다.