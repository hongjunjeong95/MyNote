# Unicode

- μ λ‹μ½”λ“λ” U+0031 ν•νƒ
- μ½”λ“ ν¬μΈνΈ
  - 0031μ΄ μ½”λ“ ν¬μΈνΈ
  - λ¬Έμ μ½”λ“λΌκ³ λ„ λ¶€λ¦„
  - μ½”λ“ ν¬μΈνΈλ΅ λ¬Έμ / μ΄λ¨μ§€ λ“±μ„ ν‘ν„
  - 4μλ¦¬ μ΄μƒμ UTF-16 μ§„μ ν•νƒ

- 110λ§κ° μ •λ„ ν‘ν„
  - U+0000 ~ U+10FFFF

- plane(ν‰λ©΄)
  - μ½”λ“ ν¬μΈνΈ μ „μ²΄λ¥Ό 17κ° planeμΌλ΅ λ‚λ”
  - ν•λ‚μ planeμ€ 65535(U+FFFF)κ°
  - μ²« λ²μ§Έ plane
    - BMP(Basic Multillingual Plane)λΌκ³  λ¶€λ¦„
    - μΌλ°μ μΈ λ¬Έμ(μλ¬Έμ, μ«μ)κ°€ μ—¬κΈ°μ— μ†ν•¨
    - ν•κΈ€μ μ½”λ“ ν¬μΈνΈλ„ μ—¬κΈ°μ— μ†ν•¨

  - μ²« λ²μ§Έ planeμ„ μ μ™Έν• plane
    - Supplementary plane, Astral planeμ΄λΌκ³  λ¶€λ¦„
    - 5μλ¦¬ μ΄μƒμ μ½”λ“ ν¬μΈνΈλ¥Ό ν‘ν„ν•  μ μμ
    - ES6+μ—μ„ μ§€μ›


### Escape Sequence

- Escape Sequence

  - μ—­μ¬λμ‹μ™€ 16μ§„μλ΅ κ°’μ„ μ‘μ„±
  - μ΄λ¥Ό 16 μ§„μ μ΄μ¤μΌ€μ΄ν”„ μ‹ν€€μ¤λΌκ³  λ¶€λ¦„

- μ λ‹μ½”λ“ μ΄μ¤μΌ€μ΄ν”„ μ‹ν€€μ¤

  - Unicode Escape Sequence
  - μ΄μ¤μΌ€μ΄ν”„ μ‹ν€€μ¤λ¥Ό μ λ‹μ½”λ“λ΅ μ‘μ„±ν• ν•νƒ

  ```js
  const escape = "\x31\x32\x33";
  console.log(escape); // 123
  const unicode = "\u0034\u0035\u0036";
  console.log(unicode); // 456
  ```

  - μ—­μ¬λμ‹ λ‹¤μμ— uλ¥Ό μ‘μ„±ν•λ‹¤.

- UES κ°’ λ²”μ„

  - UTF-16 μ§„μλ΅ U+0000μ—μ„ U+FFFFκΉμ§€ μ‚¬μ© κ°€λ¥


### ES5 λ¬Έμ 

- U+FFFFλ³΄λ‹¤ ν° μ½”λ“ ν¬μΈνΈλ” μ–΄λ–»κ² μ‘μ„±ν•  κ²ƒμΈκ°€?
- μ λ‹μ½”λ“ μ½”λ“ ν¬μΈνΈ μ΄μ¤μΌ€μ΄ν”„
  - ES6μ—μ„ μ½”λ“ ν¬μΈνΈ κ°’κ³Ό κ΄€κ³„ μ—†μ΄ μ‚¬μ©ν•  μ μλ” ν•νƒλ¥Ό λ§λ“¦
  - `\u{31}, \u{1f418}` ν•νƒ

```js
const unicode = "\u0031\u0032\u0033";
console.log(unicode); // 123
const es6 = "\u{34}\u{35}\u{36}";
console.log(es6); // 456
console.log("\u{1f418}"); // π
```

- μ—­μ¬λμ‹μ™€ uλ¥Ό μ‘μ„±ν•κ³  μ¤‘κ΄„νΈ μ•μ— μ½”λ“ ν¬μΈνΈλ¥Ό μ‘μ„±ν•λ‹¤.

μ΄ λ• ES5μ™€ νΈν™μ„± λ¬Έμ κ°€ λ°μƒν•λ‹¤.

- Surrogate pair

  - \u{1f418} ν•νƒλ¥Ό ES5μ—μ„ μ‚¬μ© λ¶κ°€

  - ES5μ—μ„λ” λ‘ κ°μ μ λ‹μ½”λ“ μ΄μ¤μΌ€μ΄ν”„ μ‹ν€€μ¤ μ‚¬μ©

  - μ΄λ¥Ό Surrogate pairλΌκ³  ν•¨

    ```js
    const pair = "\uD83D\uDC18";
    const es6 = "\u{1f418}";
    console.log(pair); // π
    console.log(es6); // π
    ```

    - "\uD83D"μ™€ "\uDC18"λ¥Ό μ—°κ²°ν•μ—¬ μ‘μ„±ν•λ‹¤.

- Surrogate pair κ³„μ‚° λ°©λ²•

  - [μ¤ν™μ κ³„μ‚° λ°©λ²•](https://262.ecma-international.org/6.0/#sec-ecmascript-language-types-string-type)

- μ λ‹μ½”λ“ μ‚¬μ©μ μ°Έμ΅° μ‚¬ν•­

  - λΈλΌμ°μ €, μ¤λ§νΈν°μ— λ”°λΌ ν‘μ‹λλ” λ¬Έμ λ¨μµμ΄ λ‹¤λ¦„
  - μ°Έμ΅° : https://unicode-table.com/en/1F418/



## fromCodePoint()

<table>
    <thead>
        <th>κµ¬λ¶„</th>
        <th>λ°μ΄ν„°(κ°’)</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:200px;">ν•νƒ</td>
        <td>String.fromCodePoint()</td>
      </tr>
      <tr>
        <td>νλΌλ―Έν„°</td>
        <td>μ½”λ“ ν¬μΈνΈ, num1[, ...[, numN]]</td>
      </tr>
      <tr>
        <td>λ°ν™</td>
        <td>μ½”λ“ ν¬μΈνΈμ— ν•΄λ‹Ήν•λ” λ¬Έμλ΅ λ°ν™</td>
      </tr>
    </tbody>
</table>

- μ λ‹μ½”λ“μ μ½”λ“ ν¬μΈνΈμ— ν•΄λ‹Ήν•λ” λ¬Έμ λ°ν™

- νλΌλ―Έν„°μ— λ‹¤μμ μ½”λ“ ν¬μΈνΈ μ‘μ„± κ°€λ¥

  - λ¬Έμλ¥Ό μ—°κ²°ν•μ—¬ λ°ν™

    ```js
    const point = String.fromCodePoint;
    console.log(point(49, 50, 51)); // 123
    console.log(point(44032, 44033)); // κ°€κ°
    
    console.log(point(0x31, 0x32, 0x33)); // 123
    console.log(point(0x1F418)); // π
    ```

    - 49, 50, 51

      μ½”λ“ ν¬μΈνΈλ¥Ό 10μ§„μλ΅ μ‘μ„±ν• ν•νƒλ‹¤.

    - 0x31, 0x32, 0x33

      μ½”λ“ ν¬μΈνΈλ¥Ό 16μ§„μλ΅ μ‘μ„±ν• ν•νƒλ‹¤.

- ES5μ fromCharCode() μ‚¬μ©

  - Surrogate pairλ΅ μ‘μ„±

    ```js
    const point = String.fromCodePoint;
    console.log(point(0x1f418)); // λ¬Έμ μ• λΈ
    console.log(point(0xD83D, 0xDC18)); // π
    ```



## codePointAt()

<table>
    <thead>
        <th>κµ¬λ¶„</th>
        <th>λ°μ΄ν„°(κ°’)</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:200px;">ν•νƒ</td>
        <td>String.prototype.codePointAt()</td>
      </tr>
      <tr>
        <td>νλΌλ―Έν„°</td>
        <td>μ λ‹μ½”λ“λ΅ λ³€ν™ν•  λ¬Έμμ—΄μ μΈλ±μ¤</td>
      </tr>
      <tr>
        <td>λ°ν™</td>
        <td>μ½”λ“ ν¬μΈνΈ κ°’</td>
      </tr>
    </tbody>
</table>

- λ€μƒ λ¬Έμμ—΄μ—μ„

  - νλΌλ―Έν„°μ— μ‘μ„±ν• μΈλ±μ¤ λ²μ§Έ λ¬Έμλ¥Ό μ λ‹μ½”λ“ μ½”λ“ ν¬μΈνΈλ΅ λ³€ν™ν•μ—¬ λ°ν™

    ```js
    const result = "κ°€λ‚λ‹¤".codePointAt(2);
    console.log(result); // 45796
    console.log(typeof result); // number
    
    console.log("κ°€λ‚λ‹¤".codePoinAt(3)); // undefined
    console.log(String.fromCodePoint(result)); // λ‹¤
    ```

    1. "κ°€λ‚λ‹¤".codePointAt(2) λ¬Έμμ—΄ "κ°€λ‚λ‹¤"μ—μ„ 3λ²μ§Έμ μ½”λ“ ν¬μΈνΈλ¥Ό κµ¬ν•΄ λ°ν™ν•λ‹¤.
    2. λ°ν™λ μ½”λ“ ν¬μΈνΈ νƒ€μ…μ€ numberλ‹¤.
    3. μΈλ±μ¤ λ²μ§Έμ— λ¬Έμκ°€ μ—†μΌλ©΄ undefinedλ¥Ό λ°ν™ν•λ‹¤.
    4. codePointAt(2)μ κ°’μ€ 45796μ΄κ³  fromCdoePoint(45796)μ κ°’μ€ "λ‹¤"λ‹¤.

  - μ½”λ“ ν¬μΈνΈλ” UTF-16μΌλ΅ μΈμ½”λ”©λ κ°’



## normalize()

<table>
    <thead>
        <th>κµ¬λ¶„</th>
        <th>λ°μ΄ν„°(κ°’)</th>
    </thead>
    <tbody>
      <tr>
        <td style="width:200px;">ν•νƒ</td>
        <td>String.prototype.normalize()</td>
      </tr>
      <tr>
        <td>νλΌλ―Έν„°</td>
        <td>μ •κ·ν™” ν•μ‹. λ””ν΄νΈ : NFC</td>
      </tr>
      <tr>
        <td>λ°ν™</td>
        <td>λ³€ν™λ λ¬Έμμ—΄</td>
      </tr>
    </tbody>
</table>

- λ€μƒ λ¬Έμμ—΄μ„ νλΌλ―Έν„°μ— μ§€μ •ν• μ λ‹μ½”λ“ μ •κ·ν™” ν•μ‹μΌλ΅ λ³€ν™ν•μ—¬ λ°ν™
- μ λ‹μ½”λ“ μ •κ·ν™” ν•μ‹
  - NFC, NFD, NFKC, NFKD

### μ½”λ“ ν¬μΈνΈ

```js
console.log("γ„±".codePointAt().toString(16)); // 3131
console.log("γ…".codePointAt().toString(16)); // 314f
console.log("\u{3131}\u{314F}"); // γ„±γ…
```

### normalize()

```js
const point = "\u{3131}\u{314F}";
console.log(point.normalize("NFC")); // γ„±γ…
console.log(point.normalize("NFD")); // γ„±γ…

console.log(point.normalize("NFKD")); // κ°€
console.log(point.normalize("NFKC")); // κ°€
```

- NFCμ™€ NFDλ” λ‹¨μ§€ μ—°κ²°ν•μ—¬ μ–΄μƒ‰ν•λ‹¤.
- NFKDμ™€ NFKCλ” λ¨μ•„ μ“΄ ν•νƒλ΅ ν‘μ‹λλ‹¤.
