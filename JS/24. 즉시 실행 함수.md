# 즉시 실행 함수

```js
(function(){
  console.log("JS북");
}());
```

- 함수 즉시 실행이란?
  - 엔진이 함수를 만났을 때, 자동으로 함수를 실행
- IIFE : Immediately Invoked Function Expression
- (function(){ ... }()) 형태
  - 함수 이름이 없으므로 함수 선언문, 함수 표현식도 아님
  - 문법 에러가 발생하지 않음
  - 무명 함수, 익명 함수라고도 부름

## 함수 즉시 실행 과정

- 표현식을 평가

  - 소괄호()는 그룹핑 연산자

  ```js
  var total = (1 + 2);
  console.log(total);
  ```

  1. (1+2) 형태에서 소괄호()는 그룹핑 연산자이며 1 + 2는 표현식
  2. 그룹핑 연산자는 소괄호 안의 표현식을 평가하고 평가 결과를 반환
  3. 소괄호()와 표현식 평가가 키포인트
  4. (1+2)는 저장되지 않고 이에 대한 결과만 반환해서 total에 할당한다.

- 함수 이름 필요

  ```js
  var value = function(){
    return 100;
  };
  console.log(value());
  ```

- 함수 표현식 끝에 소괄호 작성

  ```js
  var value = function(){
    return 100;
  }();
  console.log(value);
  ```

- 소괄호()에 함수 작성

  ```js
  var value = (function(){
    return 100;
  }());
  console.log(value);
  ```

### 그룹핑 연산자에서 반환된 값이 할당되는 변수를 작성하지 않은 형태

```js
(function(){
  console.log(100);
}());
```

1. 그룹핑 연산자를 작성하지 않으면 함수 이름이 없으므로 문법 에러
2. 하지만, 그룹핑 연산자를 작성하면 표현식에 function을 작성한 것이므로 문법 에러가 발생하지 않는다. 즉, (1+2)에서 1+2 대신에 함수를 작성한 것
3. 표현식과 표현식 평가 결과는 평가 결과가 반환할 때까지 메모리에 저장하고 평가 결과를 반환하면 지워진다.
4. (1+2)의 결과가 메모리에 저장된다면 매우 많은 메모리가 필요할 것이다.
5. `function(){}();` 코드로 만든 오브젝트도 메모리에 저장되지 않으며 실행 결과도 메모리에 저장되지 않는다.
6. 따라서 저장해야 할 것이 있다면 표현식 밖의 변수, 프로퍼티에 저장해야 한다.
7. 저장할 필요가 없는 1회성 코드이면서 엔진이 function 키워드를 만나는 시점에 즉시 실행해야 한다면, 그룹핑 연산자 안에 표현식으로 작성
8. 무명 함수는 그룹핑 연산자 안의 코드를 한 번만 사용할 때 사용한다. 주로 초깃값을 설정할 때 사용







